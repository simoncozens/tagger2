# Global

not tag_covers_100_percent(),WARN,"Tags don’t cover 100% of families?"
any(tag_value == 0 for tag_value in tag.values()),FAIL,"At least one tag has value 0?"
any(tag_value > 100 for tag_value in tag.values()),FAIL,"At least one tag has value >100?"
tag["/Classification/Sans"] > 0 and tag["/Classification/Serif"] > 0,WARN,"Sans and Serif at once?"
tag["/Use/Special"] > 0 and (
    tag["/Expressive/Cute"] > 0 or
    tag["/Expressive/Playful"] > 0 or
    tag["/Expressive/Fancy"] > 0 or
    tag["/Expressive/Artistic"] > 0 or
    tag["/Expressive/Excited"] > 0 or
    tag["/Expressive/Loud"] > 0 or
    tag["/Expressive/Childlike"] > 0 or
    tag["/Expressive/Happy"] > 0
),FAIL,"Special-use fonts shouldn't be expressive (e.g. Barcode and Cute?)"


# Active
tag["/Expressive/Active"] > 0 and tag["/Expressive/Business"] > 50,WARN,"Active and Business?"
tag["/Expressive/Active"] > 0 and tag["/Expressive/Calm"] > 0,WARN,"Active and Calm?"
tag["/Expressive/Active"] > 0 and tag["/Expressive/Stiff"] > 0,WARN,"Active and Stiff?"
tag["/Expressive/Excited"] > 0 and not tag["/Expressive/Active"] > 0,WARN,"Excited but not Active?"
tag["/Expressive/Playful"] > 0 and not tag["/Expressive/Active"] > 0,WARN,"Playful but not Active?"
tag["/Expressive/Cute"] > 0 and not tag["/Expressive/Active"] > 0,INFO,"Cute but not Active?"
tag["/Expressive/Calligraphy"] > 0 and not tag["/Expressive/Active"],INFO,"Calligraphy but not Active?"
tag["/Expressive/Active"] > 0 and not font["OS/2"]["fsSelection"] & 0x1,WARN,"Active but no italics or slant?"
tag["/Expressive/Active"] == 0 and tag["/Expressive/Playful"] > 0,WARN,"Playful but not Active?"
tag["/Expressive/Active"] == 0 and tag["/Expressive/Excited"] > 0,WARN,"Excited but not Active?"
tag["/Expressive/Active"] == 0 and tag["/Expressive/Cute"] > 0,INFO,"Cute but not Active?"
tag["/Expressive/Active"] == 0 and tag["/Expressive/Calligraphy"] > 0,INFO,"Calligraphy but not Active?"
tag["/Expressive/Active"] == 0 and tag["/Expressive/Fancy"] > 0,INFO,"Fancy but not Active?"
# tag["/Expressive/Active"] == 0 and (font["hasItalic"] or font["hasSlant"]),INFO,"Italic or Slant but not Active?"
# tag["/Expressive/Active"] == 0 and font["Contrast"] > 60,INFO,"High contrast but not Active?"

# Artistic
tag["/Expressive/Artistic"] == 0 and tag["/Formal/Calligraphy"] > 80,FAIL,"Calligraphic but not Artistic?"

tag["/Expressive/Artistic"] > 0 and tag["/Expressive/Business"] > 0,WARN,"Artistic and Business?"
tag["/Expressive/Artistic"] > 0 and tag["/Expressive/Calm"] > 0,WARN,"Artistic and Calm?"
tag["/Expressive/Artistic"] > 0 and tag["/Expressive/Competent"] > 0,WARN,"Artistic and Competent?"

tag["/Expressive/Artistic"] == 0 and tag["/Expressive/Playful"] > 0,WARN,"Playful but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Expressive/Excited"] > 0,WARN,"Excited but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Expressive/Cute"] > 0,WARN,"Cute but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Expressive/Futuristic"] > 0,WARN,"Futuristic but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Expressive/Fancy"] > 0,WARN,"Fancy but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Expressive/Innovative"] > 0,WARN,"Innovative but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Formal/Happy"] > 80,WARN,"Happy Formal but not Artistic?"

tag["/Expressive/Artistic"] == 0 and tag["/Expressive/Awkward"] > 0,INFO,"Awkward but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Formal/Display"] > 80,INFO,"Display Formal but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Formal/Vintage"] > 80,INFO,"Vintage Formal but not Artistic?"
tag["/Expressive/Artistic"] == 0 and tag["/Formal/Stiff"] > 80,INFO,"Stiff Formal but not Artistic?"


# Awkward

tag["/Expressive/Awkward"] > 0 and tag["/Formal/Educational"] > 80,FAIL,"Awkward and Educational?"

tag["/Expressive/Awkward"] > 0 and tag["/Expressive/Business"] > 0,WARN,"Awkward and Business?"
tag["/Expressive/Awkward"] > 0 and tag["/Expressive/Calm"] > 0,WARN,"Awkward and Calm?"
tag["/Expressive/Awkward"] > 0 and tag["/Expressive/Fancy"] > 0,WARN,"Awkward and Fancy?"
tag["/Expressive/Awkward"] > 0 and tag["/Expressive/Sophisticated"] > 0,WARN,"Awkward and Sophisticated?"
tag["/Expressive/Awkward"] > 0 and tag["/Expressive/Competent"] > 0,WARN,"Awkward and Competent?"
tag["/Expressive/Awkward"] > 0 and tag["/Formal/Calligraphy"] > 80,WARN,"Awkward and Calligraphy?"

tag["/Expressive/Awkward"] == 0 and tag["/Expressive/Artistic"] > 0,WARN,"Artistic but not Awkward?"
(tag["/Expressive/Awkward"] == 0 and (tag["/Quality/Spacing"] < 50 or tag["/Quality/Wordspace"] < 50 or tag["/Quality/Drawing"] < 50)),WARN,"Poor quality but not Awkward?"

# Business
tag["/Expressive/Business"] > 0 and tag["/Expressive/Artistic"] > 0,WARN,"Business and Artistic?"
tag["/Expressive/Business"] > 0 and tag["/Expressive/Awkward"] > 0,WARN,"Business and Awkward?"
tag["/Expressive/Business"] > 0 and tag["/Expressive/Childlike"] > 0,WARN,"Business and Childlike?"
tag["/Expressive/Business"] > 0 and tag["/Expressive/Cute"] > 0,WARN,"Business and Cute?"
tag["/Expressive/Business"] > 0 and tag["/Expressive/Excited"] > 0,WARN,"Business and Excited?"
tag["/Expressive/Business"] > 0 and tag["/Expressive/Fancy"] > 0,WARN,"Business and Fancy?"
tag["/Expressive/Business"] > 0 and tag["/Expressive/Happy"] > 0,WARN,"Business and Happy?"
tag["/Expressive/Business"] > 0 and tag["/Expressive/Loud"] > 0,WARN,"Business and Loud?"
tag["/Expressive/Business"] > 0 and "SC" in family,FAIL,"Small-caps families are banned from Business"
tag["/Expressive/Business"] > 50 and tag["/Quality/Wordspace"] < 80,FAIL,"Business but low Wordspace quality?"
tag["/Expressive/Business"] > 50 and tag["/Quality/Drawing"] < 80,FAIL,"Business but low Drawing quality?"
tag["/Expressive/Business"] > 50 and tag["/Quality/Spacing"] < 80,FAIL,"Business but low Spacing quality?"

# Calm

tag["/Expressive/Calm"] > 0 and tag["/Expressive/Loud"] > 0,WARN,"Calm and Loud?"
tag["/Expressive/Calm"] > 0 and tag["/Expressive/Awkward"] > 0,WARN,"Calm and Awkward?"
tag["/Expressive/Calm"] > 0 and tag["/Classification/Serif"] > 0,WARN,"Calm and Serif?"
tag["/Expressive/Calm"] > 0 and tag["/Texture/Rugged"] > 0,WARN,"Calm and Rugged?"
#tag["/Expressive/Calm"] > 0 and font["Contrast"] > 60,INFO,"High contrast but Calm?"

tag["/Expressive/Calm"] == 0 and tag["/Formal/Easy Reading"] > 80,WARN,"Easy Reading but not Calm?"
tag["/Expressive/Calm"] == 0 and tag["/Formal/Learn To Write"] > 80,WARN,"Learn to Write but not Calm?"
tag["/Expressive/Calm"] == 0 and tag["/Expressive/Business"] > 0,WARN,"Business but not Calm?"
tag["/Expressive/Calm"] == 0 and tag["/Expressive/Competent"] > 0,WARN,"Competent but not Calm?"

tag["/Expressive/Calm"] == 0 and tag["/Classification/Neo-grotesque"] > 0 and font["OS/2"]["usWeightClass"] < 600 and not font["isCondensed"],INFO,"Neo-grotesque light and not Calm?"
tag["/Expressive/Calm"] == 0 and tag["/Classification/Humanist Sans"] > 0 and font["OS/2"]["usWeightClass"] < 600 and not font["isCondensed"],INFO,"Humanist light and not Calm?"
tag["/Expressive/Calm"] == 0 and tag["/Classification/Geometric Sans"] > 0 and font["OS/2"]["usWeightClass"] < 600 and not font["isCondensed"],INFO,"Geometric Sans light and not Calm?"
tag["/Expressive/Calm"] == 0 and tag["/Classification/Rounded Sans"] > 0 and font["OS/2"]["usWeightClass"] < 600 and not font["isCondensed"],INFO,"Rounded Sans light and not Calm?"

# Childlike

tag["/Expressive/Childlike"] > 0 and tag["/Formal/Calligraphy"] > 0,FAIL,"Childlike and Formal Calligraphy?"
tag["/Expressive/Childlike"] > 0 and font["HasDoubleStoryA"] == True,FAIL,"Childlike but has double-story 'a'?"
tag["/Expressive/Childlike"] > 0 and font["HasDoubleStoryG"] == True,FAIL,"Childlike but has double-story 'g'?"
tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Sophisticated"] > 0,WARN,"Childlike and Sophisticated?"
tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Fancy"] > 0,WARN,"Childlike and Fancy?"
tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Business"] > 0,WARN,"Childlike and Business?"
tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Stiff"] > 0,WARN,"Childlike and Stiff?"

tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Cute"] > 0,INFO,"Childlike and Cute — OK but check story form of 'a/g'"
tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Happy"] > 0,INFO,"Childlike and Happy — OK but check stylistic intent"
tag["/Expressive/Childlike"] > 0 and tag["/Formal/Handwritten"] > 0,INFO,"Childlike and Handwritten — check writing intent"
tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Informal"] > 0,INFO,"Childlike and Informal — check consistency"
tag["/Expressive/Childlike"] > 0 and tag["/Theme/Halloween"] > 0,INFO,"Childlike and Halloween — spooky overlap?"
tag["/Expressive/Childlike"] > 0 and tag["/Expressive/Awkward"] > 0,INFO,"Childlike and Awkward — childish imperfection?"
tag["/Expressive/Childlike"] > 0 and tag["/Texture/Blobby"] > 0,INFO,"Childlike and Blobby — check legibility"

# Competent

tag["/Expressive/Competent"] == 0 and tag["/Classification/Geometric Sans"] > 0,WARN,"Geometric Sans but not Competent?"
tag["/Expressive/Competent"] == 0 and tag["/Expressive/Business"] > 0,WARN,"Business but not Competent?"
tag["/Expressive/Competent"] == 0 and tag["/Expressive/Calm"] > 0,INFO,"Calm but not Competent?"
tag["/Expressive/Competent"] == 0 and font["IsCondensed"] == True,INFO,"Condensed but not Competent?"
tag["/Expressive/Competent"] == 0 and font["StrokeWeight"] >= 600,INFO,"Heavy weight but not Competent?"
#tag["/Expressive/Competent"] == 0 and font["HasDoubleStoryA"] == True and font["HasDoubleStoryG"] == True,INFO,"Double-story 'a' and 'g' but not Competent?" (combine to another condition (sans serif for example))
tag["/Expressive/Competent"] == 0 and font["SupportsPanAfricanGlyphs"] == True,INFO,"Pan-African glyph support but not Competent?"
tag["/Expressive/Competent"] == 0 and font["SupportsMultipleScripts"] >= 3,INFO,"Multiscript font but not Competent?"
tag["/Expressive/Competent"] > 0 and tag["/Expressive/Cute"] > 0,FAIL,"Competent and Cute?"
tag["/Expressive/Competent"] > 0 and tag["/Expressive/Playful"] > 0,FAIL,"Competent and Playful?"
tag["/Expressive/Competent"] > 0 and tag["/Expressive/Childlike"] > 0,FAIL,"Competent and Childlike?"
tag["/Expressive/Competent"] > 0 and tag["/Expressive/Innovative"] > 0,FAIL,"Competent and Innovative?"
tag["/Expressive/Competent"] > 0 and tag["/Expressive/Happy"] > 0,FAIL,"Competent and Happy?"
tag["/Expressive/Competent"] > 0 and font["Quality/Readability"] < 70,WARN,"Competent with low readability?"
tag["/Expressive/Competent"] > 0 and font["SupportsMultipleScripts"] >= 3,INFO,"Competent and multiscript — reinforce global applicability"




# Fancy
tag["/Expressive/Fancy"] > 0 and not tag["/Expressive/Active"] > 0,INFO,"Fancy but not Active?"


# Loud

tag["/Expressive/Loud"] > 0 and font["OS/2"]["usWeightClass"] <= 699,WARN,"Loud but weight ≤ Bold?"
tag["/Expressive/Loud"] == 0 and font["OS/2"]["usWeightClass"] >= 800,WARN,"Heavy but not Loud?"


